<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<title>Find maximal sequence</title>
	<link href="styles/js-console.css" rel="stylesheet" />
</head>
<body>
    
    <a href="#" id="btn-execute" onclick="FindSequence()">Click to find maximal sequence</a>		
	<div id="js-console">
        <label for = "tb-array1">Input an array of integers, separated by space:</label>
	    <input type="text" id="tb-array1" />        
	</div>
	<script src="scripts/js-console.js">	  
	</script>
	<script>
	    function FindSequence() {
	        ClearConsole();
            var inputString = jsConsole.read("#tb-array1");
	        var array = inputString.split(" ");
	        //var array = [2, 1, 1, 2, 3, 3, 2, 2, 2, 1]; 

	        jsConsole.writeLine(array + "; length: " + array.length);

            var maxSubArrayLength = 1;
            var maxSubArrayBegin = 0;
            
            if (array[0] !== ""){
                for (var i = 0; i < array.length; i++){
                    var subArrayLength = 1;
                    while ((i + subArrayLength < array.length) && (array[i] == array[i + subArrayLength])){
                        subArrayLength++;
                    }
                    if (subArrayLength > maxSubArrayLength){
                        maxSubArrayLength = subArrayLength;
                        maxSubArrayBegin = i;
                    }
                }
                jsConsole.write("Maximal sequence is: ");                
                var result = array.slice(maxSubArrayBegin, maxSubArrayBegin + maxSubArrayLength);
                jsConsole.write(result);                
            }
            else jsConsole.writeLine("The array is empty!");
	    }
        
        //-----------------
	    function ClearConsole() {
	        document.getElementById("js-console").children[2].innerHTML = "";			
            }
	</script>
</body>
</html>
